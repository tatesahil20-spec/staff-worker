(()=>{var e={};e.id=951,e.ids=[951],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},5748:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o});var r=s(482),a=s(9108),l=s(2563),i=s.n(l),d=s(8300),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);s.d(t,n);let o=["",{children:["home",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4406)),"C:\\Users\\sahil\\Downloads\\nagarsevak-worker\\app\\home\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"C:\\Users\\sahil\\Downloads\\nagarsevak-worker\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\sahil\\Downloads\\nagarsevak-worker\\app\\home\\page.tsx"],x="/home/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/home/page",pathname:"/home",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7584:(e,t,s)=>{Promise.resolve().then(s.bind(s,2014)),Promise.resolve().then(s.t.bind(s,1476,23))},4650:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},1665:()=>{},2014:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(5344),a=s(7435),l=s(8428),i=s(2739);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,s(9224).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var n=s(3729);function o(){let e=(0,a.createClientComponentClient)(),t=(0,l.useRouter)(),[s,o]=(0,n.useState)(!1);async function c(){if(!s){o(!0);try{await e.auth.signOut(),t.refresh(),t.push("/login")}catch(e){console.error("Logout failed:",e),o(!1)}}}return r.jsx("button",{onClick:c,disabled:s,className:"p-3 bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 hover:bg-white/20 transition-all active:scale-95 group",title:"Logout",children:s?r.jsx(i.Z,{className:"w-5 h-5 text-white animate-spin"}):r.jsx(d,{className:"w-5 h-5 text-white group-hover:text-red-300 transition-colors"})})}},4406:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(5036),a=s(7699),l=s(7439),i=s(867),d=s(6274),n=s(146),o=s(6793),c=s(7613),x=s(9003),m=s(1389),u=s(4649),h=s(4474);async function p(){let e=(0,l.cookies)(),t=(0,a.createServerComponentClient)({cookies:()=>e}),{data:{session:s}}=await t.auth.getSession();s||(0,i.redirect)("/login");let{data:p}=await t.from("users").select("name, department, role").eq("id",s.user.id).single();p?.role!=="staff"&&(0,i.redirect)("/login");let b=new Date().toISOString().split("T")[0],{data:g,error:k}=await t.from("tasks").select(`
            *,
            issues (
                title,
                location,
                priority,
                category
            )
        `).eq("staff_id",s.user.id).eq("scheduled_date",b).order("scheduled_time",{ascending:!0});k&&console.error("Error fetching tasks:",k);let f=g||[],v=f.length,j=f.filter(e=>"completed"===e.status).length,w=v-j;return(0,r.jsxs)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-24",children:[(0,r.jsxs)("header",{className:"bg-gradient-to-br from-indigo-600 via-blue-700 to-indigo-900 text-white px-6 pt-10 pb-16 rounded-b-[3rem] shadow-2xl relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-20 -mt-20 blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-blue-400/10 rounded-full -ml-10 -mb-10 blur-2xl"}),(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center font-bold text-xl border border-white/30",children:p?.name?.charAt(0)||"W"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-xl font-bold tracking-tight",children:["Hey, ",p?.name?.split(" ")[0]||"Worker"]}),r.jsx("p",{className:"text-blue-100/70 text-xs font-medium uppercase tracking-wider",children:p?.department||"Staff Member"})]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsx(h.ZP,{})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-blue-100/80 text-sm font-medium",children:[r.jsx(n.Z,{className:"w-4 h-4"}),r.jsx("span",{children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]})]})]}),(0,r.jsxs)("main",{className:"px-5 -mt-8 relative z-20 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-[2rem] p-6 shadow-xl border border-slate-200/50 dark:border-slate-800/50",children:[r.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 ml-1",children:"Today's Overview"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[(0,r.jsxs)("div",{className:"text-center group",children:[r.jsx("div",{className:"text-3xl font-black text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform",children:v}),r.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase mt-1",children:"Total"})]}),(0,r.jsxs)("div",{className:"text-center border-x border-slate-100 dark:border-slate-800",children:[r.jsx("div",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-400",children:j}),r.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase mt-1",children:"Done"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-black text-amber-500 dark:text-amber-400",children:w}),r.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase mt-1",children:"Pending"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,r.jsxs)("h2",{className:"text-lg font-extrabold text-slate-800 dark:text-white flex items-center gap-2",children:[r.jsx("div",{className:"w-1.5 h-6 bg-blue-600 rounded-full"}),"Today's Schedule"]}),(0,r.jsxs)("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-3 py-1 rounded-full uppercase tracking-tighter",children:[v," Active"]})]}),r.jsx("div",{className:"space-y-4",children:0===f.length?(0,r.jsxs)("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-[2.5rem] border border-dashed border-slate-200 dark:border-slate-800",children:[r.jsx("div",{className:"w-20 h-20 bg-slate-50 dark:bg-slate-800/50 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(o.Z,{className:"w-10 h-10 text-emerald-500/50"})}),r.jsx("h3",{className:"text-xl font-bold text-slate-700 dark:text-slate-200",children:"All caught up!"}),r.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"No tasks assigned for today."})]}):f.map(e=>(0,r.jsxs)(d.default,{href:`/task/${e.id}`,className:"group block bg-white dark:bg-slate-900 p-5 rounded-[2rem] shadow-sm border border-slate-100 dark:border-slate-800/50 active:scale-[0.97] transition-all hover:shadow-md hover:border-blue-500/30",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("span",{className:`px-3 py-1 rounded-xl text-[10px] font-black uppercase tracking-wider
                                            ${e.issues?.priority==="high"?"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400":e.issues?.priority==="medium"?"bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400":"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400"}`,children:e.issues?.priority||"Normal"}),r.jsx("span",{className:`px-3 py-1 rounded-xl text-[10px] font-black uppercase tracking-wider border
                                            ${"completed"===e.status?"bg-emerald-500/10 text-emerald-600 border-emerald-500/20":"in_progress"===e.status?"bg-blue-500/10 text-blue-600 border-blue-500/20":"bg-slate-100 text-slate-500 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}`,children:e.status?.replace("_"," ")})]}),r.jsx(c.Z,{className:"w-5 h-5 text-slate-300 group-hover:text-blue-500 transition-colors"})]}),r.jsx("h3",{className:"text-base font-bold text-slate-800 dark:text-white mb-2 leading-tight",children:e.issues?.title||"Untitled Issue"}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center text-slate-500 dark:text-slate-400 text-xs font-medium",children:[r.jsx(x.Z,{className:"w-3.5 h-3.5 mr-2 text-slate-400 group-hover:text-blue-500 transition-colors"}),r.jsx("span",{className:"truncate",children:e.issues?.location||"Field Assignment"})]}),(0,r.jsxs)("div",{className:"flex items-center text-slate-500 dark:text-slate-400 text-xs font-medium",children:[r.jsx(m.Z,{className:"w-3.5 h-3.5 mr-2 text-indigo-400"}),(0,r.jsxs)("span",{children:["Starts ",function(e){if(!e)return"All Day";let[t,s]=e.split(":"),r=parseInt(t);return`${r%12||12}:${s} ${r>=12?"PM":"AM"}`}(e.scheduled_time)]})]})]})]},e.id))})]}),r.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 md:px-32 z-50",children:(0,r.jsxs)("nav",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-2xl border border-slate-200 dark:border-slate-800 rounded-[2.5rem] px-8 py-3 flex justify-around items-center shadow-2xl",children:[(0,r.jsxs)(d.default,{href:"/home",className:"flex flex-col items-center gap-1.5 transition-all text-blue-600 dark:text-blue-400",children:[r.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/40 rounded-2xl",children:r.jsx(u.Z,{className:"w-6 h-6"})}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Home"})]}),(0,r.jsxs)(d.default,{href:"/schedule",className:"flex flex-col items-center gap-1.5 transition-all text-slate-400 dark:text-slate-600 hover:text-slate-600 dark:hover:text-slate-400",children:[r.jsx("div",{className:"p-2 bg-transparent rounded-2xl",children:r.jsx(n.Z,{className:"w-6 h-6"})}),r.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Schedule"})]})]})})]})}},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>i});var r=s(5036),a=s(265),l=s.n(a);s(7272);let i={title:"Nagarsevak Worker",description:"Premium worker task management application"};function d({children:e}){return r.jsx("html",{lang:"en",className:"dark",children:r.jsx("body",{className:`${l().className} bg-slate-950 text-slate-200 antialiased`,children:e})})}},4474:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>i});let r=(0,s(6843).createProxy)(String.raw`C:\Users\sahil\Downloads\nagarsevak-worker\components\LogoutButton.tsx`),{__esModule:a,$$typeof:l}=r,i=r.default},9508:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(2),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,r.forwardRef)(({color:s="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:n,className:o="",children:c,...x},m)=>(0,r.createElement)("svg",{ref:m,...a,width:i,height:i,stroke:s,strokeWidth:n?24*Number(d)/Number(i):d,className:["lucide",`lucide-${l(e)}`,o].join(" "),...x},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s}},146:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9508).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6793:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9508).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},7613:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9508).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},1389:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9508).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4649:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9508).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},9003:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9508).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6274:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(8026),a=s.n(r)},8026:(e,t,s)=>{"use strict";let{createProxy:r}=s(6843);e.exports=r("C:\\Users\\sahil\\Downloads\\nagarsevak-worker\\node_modules\\next\\dist\\client\\link.js")},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[483,800,713,476],()=>s(5748));module.exports=r})();